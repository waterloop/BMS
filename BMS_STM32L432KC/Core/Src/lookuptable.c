#include "lookuptable.h"

static const uint8_t table[128] = {
	100, 98, 95, 93, 91, 89, 88, 86,
	84,  81, 81, 80, 78, 77, 76, 74,
	73,  72, 71, 70, 68, 67, 66, 65,
	64,  63, 62, 61, 61, 60, 59, 58,
	57,  56, 55, 55, 54, 53, 52, 52,
	51,  50, 49, 49, 48, 47, 47, 46,
	45,  45, 44, 43, 43, 42, 42, 41,
	40,  40, 39, 39, 38, 37, 37, 36,
	36,  35, 35, 34, 34, 33, 32, 32,
	31,  31, 30, 30, 29, 29, 28, 28,
	27,  27, 26, 26, 25, 25, 24, 24,
	23,  23, 22, 22, 21, 21, 20, 20,
	19,  19, 18, 18, 17, 17, 16, 16,
	15,  15, 14, 14, 13, 13, 12, 12,
	11,  11, 10, 10,  9,  9,  8,  8,
	 7,  7,   6,  6,  5,  5,  4,  4
};

uint8_t lookup(uint8_t adcValue) {
	if (adcValue < 360) {
		return 100;
	} else if (adcValue > 2920) {
		return 0;
	} else {
		uint8_t index = (adcValue - 360) / 20;
		return table[index];
	}
}
